/* jsMorph v0.5.0 http://jsMorph.com/ | http://jsMorph.com/license */
var jsMorph=function(K,I,A,J,C,B,H){var E=!document.getElementsByClassName,F=(function(h,P,X,Z,Ab,Aa){var S={},m,c,d,R=h.style,l,V,g,i=0,Y,f,e=[],Q,b,T=function(M){return[M.offsetWidth,M.offsetHeight,M.offsetLeft,M.offsetTop]},W=function(){if(document.body.currentStyle){return function(N,M){return N.currentStyle[M.replace(/\-(\w)/g,function(){return arguments[1].toUpperCase()})]}}else{return function(N,M){return document.defaultView.getComputedStyle(N,null).getPropertyValue(M)}}}(),a=function(N){var o={},O,p=N.style,M=document.createElement("div"),q=M.style;q.cssText="position:absolute;left:0;top:-10ex;width:10em;height:72pt;";N.appendChild(M);O=T(M).concat(T(N));o={em:O[0]/10,pt:O[1]/72,pc:O[1]/6,"in":O[1],cm:O[1]/2.54,mm:O[1]/25.4,ex:Math.abs(O[3])/10,"%font":O[0]/1000,"%line":O[0]/1000};q.cssText+=";font-size:"+P["font-size"]+(P["font-family"]?";font-family:"+P["font-family"]:"")+";";O=T(M);N.removeChild(M);o.exn=Math.abs(O[3]/10);V=p.cssText;p.cssText+=";position:absolute;left:0%;top:0%;";O=T(N);p.cssText+=";left:-100%;top:-100%;";O=O.concat(T(N));p.cssText=V;o["%outX"]=(O[2]-O[6])/100;o["%outY"]=(O[3]-O[7])/100;return o},U=function(O,N,M){if(O[2]!="px"&&O[2]!=""){if(O[2]!="%"){O[1]*=M[O[2]]}else{if(!N.match(/^(font)/)){O[1]*=N.match(/width|left|right|padding|margin|text-ind/)?M["%outX"]:M["%outY"]}else{O[1]*=M["%"+N.split("-")[0]]}}}},n=function(N){var M=N.split("#");if(M[1]){M=M[1].split("");M=M.length<6?(M[0]+M[0]+M[1]+M[1]+M[2]+M[2]).split(""):M;return[parseInt(M[0]+M[1],16),parseInt(M[2]+M[3],16),parseInt(M[4]+M[5],16)]}else{return/rgb\((.*)\)/.exec(M[0])[1].replace(/\s*/g,"").split(",")}};h.initStyle=h.style.cssText;if(P["font-size"]){l=/([\-0-9\.]+)([a-z%]+)(!*)/.exec(P["font-size"])}for(var j in P){Q=j.match(/opacity/);b=j.match(/color/);if(!(j.replace(/\-(\w)/g,function(){return arguments[1].toUpperCase()}) in R)&&!Q){delete (P[j]);continue}d=/([\-0-9\.]+)([a-z%]*)(\s*~*)/.exec(P[j])||[];P[j]=P[j].toString().replace("~","");if(E&&Q){c=/\opacity=([0-9]+)\)/.exec(W(h,"filter"));c=["",c==null?100:c[1],""];d=["",d[1]*=100,""];P[j]=d[1]+")"}else{if(b){c=n(W(h,j=="border-color"?"border-left-color":j));d=n(P[j])}else{c=/([\-0-9\.]+)(\D*)/.exec(W(h,j.match(/^(padding|margin)$/)?j+"-left":j.match(/^(border-width)$/)?"border-left-width":j.match(/(border-radius)$/)?(g=(j.match(/^(\-\w+\-)/)||["",""])[1])+"border-"+(g=="-moz-"?"radius-topleft":"top-left-radius"):j))||["0px",0,"px"]}}if(!c[1]&&j.match(/^(height|width)/)){R.zoom=1;e[0]=/([\-0-9\.]+)([a-z%]*)/.exec(W(h,"padding-"+(j=="width"?"left":"top")));e[1]=/([\-0-9\.]+)([a-z%]*)/.exec(W(h,"padding-"+(j=="width"?"right":"bottom")));if((e[0]&&e[0][2]!="px")||(e[1]&&e[1][2]!="px")){U(e[0],"padding",m||(m=a(h)));U(e[1],"padding",m)}c=["",(j=="width"?h.clientWidth:h.clientHeight)-e[0][j=="width"?0:1]-e[1][j=="width"?0:1],"px"]}if(d[3]&&!b){if(d[2]&&d[2]!="px"){m=m||a(h);d[1]=+d[1]+(+c[1])/m[d[2]]}else{d[1]=+d[1]+(+c[1])}P[j]=d[1]+d[2]}if(((c[2]&&c[2]!="px")||(c[2]!=d[2]))&&!b){U(c,j,m||(m=a(h)));U(d,j,m);if(l&&j!="font-size"){if(d[2]=="em"){d[1]*=l[1]/(l[2]!="em"?m.em:1)}if(d[2]=="ex"){d[1]*=m.exn/m.ex}}}if(b){Y=[];for(var k=c.length;k--;){Y[k]=d[k]-c[k];if(i<Y[k]){i=Y[k]}}S[j]={full:c,delta:Y}}else{c[1]=parseFloat(c[1]);Y=parseFloat(d[1])-c[1];if(i<Math.abs(Y)){i=Y*(Q&&!E?100:1)}S[j]={pre:(E&&Q?"filter:alpha(opacity=":j+":"),full:c[1],delta:Y,unit:d[2]==""?(E&&Q?")":""):"px"}}}i=12+Math.abs(X/i*(!Z&&Z!=0?1:Z));if(Aa.speed&&i>Aa.speed){}else{Aa.speed=i}S.speed=i;if(Ab){Ab(S,m)}return S}),G=function(M){if(!M){return new Date().getTime()-G.sT||0}else{G.sT=new Date().getTime();return 0}},L=function(S,f,a,g,b,Q,N,T){var d,c,O=false,V,e,R,W,M,P,U;for(var Y=b.length;Y--;){V=b[Y];W=V.params;M=V.prop;P=V.initProp;e=S-(V.newTime||0)-W.delay;if(Q&&!Q[Y]&&!V.newTime){continue}d="";if(e>0){R=(a||V.obj.backwards);c=V.ease(e/W.duration);if(e<W.duration){O=true;V.done=null;for(var X in M){if(X.indexOf("color")!=-1){U=[];for(var Z=P[X].full.length;Z--;){U[Z]=P[X].delta[Z]?Math.round(+P[X].full[Z]+(!R?c:1-c)*P[X].delta[Z]):P[X].full[Z]}d+=";"+X+":rgb("+U+")"}else{U=(!R?c:1-c)*P[X].delta;if(T){U=Math.round(U)}d+=";"+P[X].pre+(P[X].full+U)+P[X].unit}}V.objStyle.cssText+=d}else{if(!V.done){if(W.doEnd){if(!R){for(var X in M){d+=";"+P[X].pre+M[X]}V.objStyle.cssText+=d}else{V.objStyle.cssText=V.obj.initStyle}}else{for(var X in M){d+=";"+P[X].pre+(P[X].full+(!R?P[X].delta:0))+P[X].unit}V.objStyle.cssText+=d}if(V.onMorphEnd){V.onMorphEnd(V.obj,f(),g,P.speed,N.speed,V.objStyle.cssText)}V.done=true;V.newTime=null}}if(V.onMorph){V.onMorph(V.obj,V.objStyle,S,g+1,P.speed,N.speed,c,V.objStyle.cssText)}}else{O=true}}if(O){N.timer=window.setTimeout(function(){L(f(),f,a,++g,b,Q,N,T)},N.speed)}else{N.timer=null;if(Y<=0&&N.onMorphEnd){N.onMorphEnd(Q,f(),g,N.speed)}}},D=[];this.reset=function(T,U,N,S,R,Q,O){for(var P=D.length;P--;){for(var M in D[P]){M=null}D[P]=null;D.pop()}if(T){this.concat(T,U,N,S,R,Q,O)}return this};this.init=function(N){var M=D.length,P,O;for(var R=N?M-1:0,Q=M;R<Q;R++){if(D[R].obj.initStyle!=undefined&&N==undefined){P=D[R].obj.style;O=P.cssText;if(D[R].obj.initStyle!=O){P.cssText=D[R].obj.initStyle}else{O=null}}D[R]["initProp"]=F(D[R].obj,D[R].prop,D[R].params.duration,D[R].params.speed,D[R].onMorphInit,this);if(O&&N==undefined){P.cssText=O}}return this};this.concat=function(O,R,N,M,S,P,T){if(!O.pop&&!O.item){O=[O]}if(!N){N={}}for(var Q=O.length;Q--;){if(typeof O[Q]=="string"){O[Q]=document.getElementById(O[Q])}D[D.length]={obj:O[Q],objStyle:O[Q].style,prop:R,params:{duration:N.duration||500,delay:N.delay||0,speed:N.speed!=undefined?N.speed:1,doEnd:N.doEnd!=undefined?N.doEnd:true},ease:M||function(U){return U},onMorphInit:S,onMorph:P,onMorphEnd:T};this.init(true)}return this};if(K){this.concat(K,I,A,J,C,B,H)}this.stop=function(M){window.clearTimeout(this.timer)};this.start=function(P){var O=G();if(P&&(P.pop||P.item)){arguments=P}for(var M=[],N=arguments.length;N--;){for(var Q=D.length;Q--;){if(D[Q].obj==arguments[N]){D[Q].newTime=this.timer?O:0.1;M[Q]=true}}}window.clearTimeout(this.timer);L(this.timer?O:G(true),G,this.backwards,1,D,M.length?M:null,this,E);return this}};